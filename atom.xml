<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zimu-66ccff.github.io</id>
    <title>æœ¨å­äº­</title>
    <subtitle>é‚£å¹´æ»¡èº«ç°ç™½ï¼Œå”¯æ­¤äº­æº¢å½©ï¼Œä»Šæ—¥ä¸æŸ“å°˜åŸƒï¼Œé™åæ­¤äº­ç›¸ä¼´</subtitle>
    <icon>https://zimu-66ccff.github.io/images/favicon.ico</icon>
    <link href="https://zimu-66ccff.github.io" />
    <author>
      <name>ziMu</name>
    </author>
    <updated>2023-02-16T02:20:17.000Z</updated>
    <category term="å‰ç«¯" />
    <category term=" Vue" />
    <entry>
        <id>https://zimu-66ccff.github.io/eventLoop/</id>
        <title>ç†è§£äº‹ä»¶å¾ªç¯</title>
        <link rel="alternate" href="https://zimu-66ccff.github.io/eventLoop/"/>
        <content type="html">&lt;h1 id=&#34;æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¾ªç¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¾ªç¯&#34;&gt;#&lt;/a&gt; æµè§ˆå™¨ä¸­çš„äº‹ä»¶å¾ªç¯&lt;/h1&gt;
&lt;h2 id=&#34;åŒæ­¥ä¸å¼‚æ­¥&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#åŒæ­¥ä¸å¼‚æ­¥&#34;&gt;#&lt;/a&gt; åŒæ­¥ä¸å¼‚æ­¥&lt;/h2&gt;
&lt;p&gt;æµè§ˆå™¨æ˜¯&lt;strong&gt;å•çº¿ç¨‹&lt;/strong&gt;çš„ï¼Œæ‰€ä»¥ä¸ºäº†ä¸å µå¡ä»£ç çš„è¿è¡Œï¼Œæˆ‘ä»¬å°†ä»»åŠ¡åˆ†ä¸ºäº†&lt;strong&gt;åŒæ­¥ä»»åŠ¡&lt;/strong&gt;ï¼Œå’Œ&lt;strong&gt;å¼‚æ­¥ä»»åŠ¡&lt;/strong&gt;ï¼ˆ &lt;code&gt;setTimeout&lt;/code&gt;  å’Œ &lt;code&gt;setInterval&lt;/code&gt; ã€ &lt;code&gt;axios&lt;/code&gt; ã€äº‹ä»¶ç»‘å®šç­‰è¿™ç§å¸¦å›è°ƒå‡½æ•°çš„ï¼‰ï¼Œé‚£ä¹ˆåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡åˆæ˜¯æŒ‰ç…§æ€æ ·çš„é¡ºåºè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œçš„å‘¢ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›¾å¥½å­ ğŸ˜&lt;br /&gt;
&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mJuAZ.png&#34; alt=&#34;äº‹ä»¶å¾ªç¯&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹ä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬ä¼šç»“åˆè¿™å¼ å›¾å’Œä»£ç æ¥å…ˆç®€å•è®¤è¯†ä¸€ä¸‹åŒæ­¥å’Œå¼‚æ­¥çš„æ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mKZNF.png&#34; alt=&#34;æ¼”ç¤ºä»£ç &#34; /&gt;&lt;br /&gt;
æ‰§è¡Œçš„ç»“æœå¾ˆç®€å• start -&amp;gt; end -&amp;gt; æ—¶é—´åˆ°äº†&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•´ä¸ª  &lt;code&gt;script&lt;/code&gt;  ä»£ç è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°&lt;strong&gt;åŒæ­¥ä»»åŠ¡&lt;/strong&gt;  &lt;code&gt;start&lt;/code&gt;  çš„æ‰“å°ï¼Œæ‰§è¡Œæ‰“å°&lt;/li&gt;
&lt;li&gt;é‡åˆ°&lt;strong&gt;å¼‚æ­¥ä»»åŠ¡&lt;/strong&gt;  &lt;code&gt;setTimeout&lt;/code&gt; ï¼Œå°† setTimeout æ”¾åˆ° &lt;strong&gt;Event Table&lt;/strong&gt; å¼€å§‹è®¡æ—¶ï¼ˆæ³¨ï¼šsetTimeout å›è°ƒå‡½æ•°è¢«è°ƒç”¨çš„å‰ææ˜¯æ—¶é—´åˆ°äº†ï¼Œæ‰€ä»¥æ˜¯åœ¨ &lt;strong&gt;Event Table&lt;/strong&gt; ä¸­ç­‰å¾…è®¡æ—¶ç»“æŸï¼Œå¦‚æœæ˜¯å…¶ä»–çš„å›è°ƒï¼Œä¾‹å¦‚ on ç»‘å®šçš„äº‹ä»¶ï¼Œåˆ™æ˜¯åœ¨ Table ä¸­ç­‰å¾…äº‹ä»¶è¢«è§¦å‘ï¼‰&lt;/li&gt;
&lt;li&gt;é‡åˆ°&lt;strong&gt;åŒæ­¥ä»»åŠ¡&lt;/strong&gt;  &lt;code&gt;end&lt;/code&gt;  çš„æ‰“å°ï¼Œæ‰§è¡Œæ‰“å°ï¼ŒåŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œ&lt;strong&gt;monitoring process&lt;/strong&gt; è¿›ç¨‹æ£€æµ‹åˆ°ä¸»çº¿ç¨‹ä¸ºç©ºï¼Œå¼€å§‹å» &lt;strong&gt;Event Queue&lt;/strong&gt; é‚£é‡Œæ£€æŸ¥æ˜¯å¦æœ‰ç­‰å¾…è¢«è°ƒç”¨çš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;setTimeout çš„è®¡æ—¶ç»“æŸï¼Œå°†å…¶æ”¾åˆ° &lt;strong&gt;Event Queue&lt;/strong&gt; ä¸­ï¼ˆ&lt;strong&gt;monitoring process&lt;/strong&gt; è¿›ç¨‹æ£€æµ‹åˆ° &lt;strong&gt;Event Queue&lt;/strong&gt; å­˜åœ¨ç­‰å¾…è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œå°±å°† setTimeout çš„å›è°ƒå‡½æ•°æ”¾è¿›ä¸»çº¿ç¨‹æ‰§è¡Œï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ˜¯ä¸æ˜¯è§‰å¾—è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å¼€å§‹ä¸Šéš¾åº¦ï¼Œå°†å¼‚æ­¥ä»»åŠ¡ç»†åˆ†ä¸º&lt;strong&gt;å®ä»»åŠ¡&lt;/strong&gt;å’Œ&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt;ï¼Œè¿›ä¸€æ­¥è®¤è¯†äº‹ä»¶å¾ªç¯&lt;/p&gt;
&lt;h2 id=&#34;å®ä»»åŠ¡å¾®ä»»åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®ä»»åŠ¡å¾®ä»»åŠ¡&#34;&gt;#&lt;/a&gt; å®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¼‚æ­¥ä»»åŠ¡&lt;/strong&gt;å¯ä»¥ç»†åˆ†ä¸º&lt;strong&gt;å®ä»»åŠ¡&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ä»»åŠ¡ï¼ˆ&lt;em&gt;task&lt;/em&gt;ï¼‰å¤§æ¦‚åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;script (æ•´ä½“ä»£ç )&lt;/li&gt;
&lt;li&gt;setTimeout&lt;/li&gt;
&lt;li&gt;setInterval&lt;/li&gt;
&lt;li&gt;setImmediate&lt;/li&gt;
&lt;li&gt;I/O&lt;/li&gt;
&lt;li&gt;UI render&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¾®ä»»åŠ¡ï¼ˆ&lt;em&gt;jobs&lt;/em&gt;ï¼‰å¤§æ¦‚åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;process.nextTick&lt;/li&gt;
&lt;li&gt;Promise.then( )&lt;/li&gt;
&lt;li&gt;Async/Await (å®é™…å°±æ˜¯ promise)&lt;/li&gt;
&lt;li&gt;MutationObserver (html5 æ–°ç‰¹æ€§)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç®€è¿°äº‹ä»¶å¾ªç¯&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ç®€è¿°äº‹ä»¶å¾ªç¯&#34;&gt;#&lt;/a&gt; ç®€è¿°äº‹ä»¶å¾ªç¯ï¼š&lt;/h2&gt;
&lt;p&gt;æ‰§è¡Œ&lt;strong&gt;å®ä»»åŠ¡&lt;/strong&gt;ï¼Œç„¶åæ‰§è¡Œè¯¥&lt;strong&gt;å®ä»»åŠ¡äº§ç”Ÿçš„å¾®ä»»åŠ¡&lt;/strong&gt;ï¼Œè‹¥&lt;strong&gt;å¾®ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿäº†æ–°çš„å¾®ä»»åŠ¡&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;ç»§ç»­æ‰§è¡Œå¾®ä»»åŠ¡&lt;/strong&gt;ï¼Œå¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œ&lt;strong&gt;å†å›åˆ°å®ä»»åŠ¡&lt;/strong&gt;ä¸­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mKIJw.png&#34; alt=&#34;äº‹ä»¶å¾ªç¯&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å…‰è¿™æ ·å¤§å®¶å¯èƒ½ä¸ä¼šå¾ˆç†è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸Šä¾‹å­ï¼Œç»“åˆä¾‹å­æ¥åˆ†æè®²è§£&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mK7Xy.png&#34; alt=&#34;ä»£ç å®åˆ—&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯åˆ†æå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•´ä½“ &lt;code&gt;script&lt;/code&gt;  ä»£ç ä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°åŒæ­¥ä»»åŠ¡ &lt;code&gt;console.log&lt;/code&gt; ï¼Œè¾“å‡º 1ã€‚&lt;/li&gt;
&lt;li&gt;é‡åˆ°å®ä»»åŠ¡ &lt;code&gt;setTimeout&lt;/code&gt; ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°&lt;strong&gt;å®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼ˆæ³¨ï¼šsetTimeout æ˜¯å…ˆè¢«æ”¾åˆ°&lt;strong&gt; Event Table&lt;/strong&gt; ä¸­è¿›è¡Œè®¡æ—¶çš„ï¼Œç­‰åˆ°æ—¶é—´åˆ°äº†ï¼Œå…¶å›è°ƒå‡½æ•°æ‰æ”¾åˆ°å®ä»»åŠ¡&lt;strong&gt; Event Queue&lt;/strong&gt; ä¸­ï¼Œå¹¶ä¸æ˜¯ç›´æ¥å°±æ”¾åˆ°å®ä»»åŠ¡&lt;strong&gt; Event Queue&lt;/strong&gt;ï¼‰ã€‚æˆ‘ä»¬æš‚ä¸”è®°ä¸º&lt;em&gt; setTimeout1&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é‡åˆ°å¾®ä»»åŠ¡ &lt;code&gt;process.nextTick()&lt;/code&gt; ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ã€‚æˆ‘ä»¬è®°ä¸º&lt;em&gt; process1&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é‡åˆ° Promiseï¼Œnew Promise é‡Œé¢çš„å‚æ•°å‡½æ•°ä½œä¸º&lt;strong&gt;åŒæ­¥ä»»åŠ¡&lt;/strong&gt;ç›´æ¥æ‰§è¡Œï¼Œè¾“å‡º 7ã€‚then é‡Œé¢çš„å›è°ƒå‡½æ•°ä½œä¸ºå¾®ä»»åŠ¡è¢«åˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue ä¸­&lt;/strong&gt;ã€‚æˆ‘ä»¬è®°ä¸º&lt;em&gt; then1&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åˆé‡åˆ°äº†å®ä»»åŠ¡ &lt;code&gt;setTimeout&lt;/code&gt; ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°&lt;strong&gt;å®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼Œæˆ‘ä»¬è®°ä¸º&lt;em&gt; setTimeout2&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;th&gt;å¾®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;setTimeout1&lt;/td&gt;
&lt;td&gt;process1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;setTimeout2&lt;/td&gt;
&lt;td&gt;then1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šè¡¨æ˜¯ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸæ—¶å„ Event Queue çš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº† 1 å’Œ 7ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€è½®å®ä»»åŠ¡ç»“æŸ&lt;/strong&gt;åï¼Œå¼€å§‹å¤„ç†äº§ç”Ÿçš„&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œ process1, è¾“å‡º 6ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ then1ï¼Œè¾“å‡º 8ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸ&lt;/strong&gt;ï¼Œæ¥ç€å¼€å§‹&lt;strong&gt;ç¬¬äºŒè½®&lt;/strong&gt;ï¼Œä»&lt;strong&gt;å®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­å–å‡º&lt;strong&gt;å®ä»»åŠ¡ setTimeout1&lt;/strong&gt; å¼€å§‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡è¾“å‡º 2ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†å¾®ä»»åŠ¡ &lt;code&gt;process.nextTick()&lt;/code&gt; ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼Œè®°ä¸º&lt;em&gt; process2&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;new Promise&lt;/code&gt;  å‚æ•°é‡Œçš„å‚æ•°å‡½æ•°ä½œä¸º&lt;strong&gt;åŒæ­¥ä»»åŠ¡&lt;/strong&gt;ç«‹å³æ‰§è¡Œè¾“å‡º 4ï¼Œ&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt; &lt;code&gt;then&lt;/code&gt;  ä¹Ÿåˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼Œè®°ä¸º&lt;em&gt; then2&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;th&gt;å¾®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;setTimeout2&lt;/td&gt;
&lt;td&gt;process2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;then2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šè¡¨æ˜¯ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸæ—¶å„ Event Queue çš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº† 2 å’Œ 4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äºŒè½®å®ä»»åŠ¡ç»“æŸ&lt;/strong&gt;ï¼Œå¼€å§‹å¤„ç†äº§ç”Ÿçš„&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œ process2, è¾“å‡º 3ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ then2ï¼Œè¾“å‡º 5ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸ&lt;/strong&gt;ï¼Œæ¥ç€å¼€å§‹&lt;strong&gt;ç¬¬ä¸‰è½®&lt;/strong&gt;ï¼Œä»&lt;strong&gt;å®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­å–å‡ºå®ä»»åŠ¡ &lt;code&gt;setTimeout2&lt;/code&gt;  å¼€å§‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡è¾“å‡º 9ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†å¾®ä»»åŠ¡ &lt;code&gt;process.nextTick()&lt;/code&gt; ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼Œè®°ä¸º&lt;em&gt; process3&lt;/em&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;new Promise&lt;/code&gt;  å‚æ•°é‡Œçš„å‚æ•°å‡½æ•°ä½œä¸ºåŒæ­¥ä»»åŠ¡ç«‹å³æ‰§è¡Œè¾“å‡º 11ï¼Œå¾®ä»»åŠ¡ &lt;code&gt;then&lt;/code&gt;  ä¹Ÿåˆ†å‘åˆ°&lt;strong&gt;å¾®ä»»åŠ¡ Event Queue&lt;/strong&gt; ä¸­ï¼Œè®°ä¸º&lt;em&gt; then3&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;th&gt;å¾®ä»»åŠ¡ Event Queue&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;process3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;then3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šè¡¨æ˜¯&lt;strong&gt;ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸ&lt;/strong&gt;æ—¶å„ Event Queue çš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº† 9 å’Œ 11ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸‰è½®å®ä»»åŠ¡ç»“æŸ&lt;/strong&gt;ï¼Œå¼€å§‹å¤„ç†äº§ç”Ÿçš„&lt;strong&gt;å¾®ä»»åŠ¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œ process3, è¾“å‡º 10ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ then3ï¼Œè¾“å‡º 12ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬ä¸‰æ¬¡äº‹ä»¶å¾ªç¯ç»“æŸï¼Œæ•´ä¸ªäº‹ä»¶å¾ªç¯ç»“æŸï¼Œå…±ç»å†äº†ä¸‰æ¬¡å¾ªç¯ï¼Œå®Œæ•´çš„è¾“å‡ºä¸º 1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12&lt;/p&gt;
&lt;h2 id=&#34;asyncawait-æ‰§è¡Œé¡ºåº&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#asyncawait-æ‰§è¡Œé¡ºåº&#34;&gt;#&lt;/a&gt; async/await æ‰§è¡Œé¡ºåº&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼š&lt;br /&gt;
&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mMF2Q.png&#34; alt=&#34;ä»£ç å®åˆ—&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¾“å‡ºç»“æœä¸ºï¼šscript start =&amp;gt; async2 end =&amp;gt; Promise =&amp;gt; script end =&amp;gt; async1 end =&amp;gt; promise1 =&amp;gt; promise2 =&amp;gt; setTimeout&lt;/p&gt;
&lt;p&gt;å¦‚æœ await åé¢ç›´æ¥è·Ÿçš„ä¸ºä¸€ä¸ª&lt;strong&gt;å˜é‡&lt;/strong&gt;ï¼Œæ¯”å¦‚ï¼šawait 1ï¼›è¿™ç§æƒ…å†µçš„è¯ç›¸å½“äº&lt;strong&gt;ç›´æ¥æŠŠ await åé¢çš„ä»£ç æ³¨å†Œä¸ºä¸€ä¸ªå¾®ä»»åŠ¡&lt;/strong&gt;ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸º &lt;strong&gt;promise.then (await ä¸‹é¢çš„ä»£ç )&lt;/strong&gt;ã€‚ç„¶åè·³å‡º async1 å‡½æ•°ï¼Œæ‰§è¡Œå…¶ä»–ä»£ç ï¼Œå½“é‡åˆ° promise å‡½æ•°çš„æ—¶å€™ï¼Œä¼šæ³¨å†Œ promise.then () å‡½æ•°åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ³¨æ„æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢å·²ç»å­˜åœ¨ await åé¢çš„å¾®ä»»åŠ¡ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¼šå…ˆæ‰§è¡Œ await åé¢çš„ä»£ç ï¼ˆasync1 endï¼‰ï¼Œå†æ‰§è¡Œ async1 å‡½æ•°åé¢æ³¨å†Œçš„å¾®ä»»åŠ¡ä»£ç  (promise1,promise2)ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹å¦å¤–ä¸€æ®µä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.328888.xyz/2023/02/16/mMSpX.png&#34; alt=&#34;ä»£ç å®åˆ—&#34; /&gt;&lt;/p&gt;
&lt;p&gt;è¾“å‡ºç»“æœä¸ºï¼š script start =&amp;gt; async2 end =&amp;gt; Promise =&amp;gt; script end =&amp;gt; async2 end1 =&amp;gt; promise1 =&amp;gt; promise2 =&amp;gt; async1 end =&amp;gt; setTimeout&lt;/p&gt;
&lt;p&gt;å¦‚æœ await åé¢è·Ÿçš„ä¸º&lt;strong&gt;ä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„è°ƒç”¨&lt;/strong&gt;ï¼Œæ­¤æ—¶æ‰§è¡Œå®Œ await&lt;strong&gt; å¹¶ä¸å…ˆæŠŠ await åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ï¼Œè€Œæ˜¯æ‰§è¡Œå®Œ await ä¹‹åï¼Œç›´æ¥è·³å‡º async1 å‡½æ•°ï¼Œæ‰§è¡Œå…¶ä»–ä»£ç &lt;/strong&gt;ã€‚ç„¶åé‡åˆ° promise çš„æ—¶å€™ï¼ŒæŠŠ promise.then æ³¨å†Œä¸ºå¾®ä»»åŠ¡ã€‚&lt;strong&gt;å…¶ä»–ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œéœ€è¦å›åˆ° async1 å‡½æ•°å»æ‰§è¡Œå‰©ä¸‹çš„ä»£ç ï¼Œç„¶åæŠŠ await åé¢çš„ä»£ç æ³¨å†Œåˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—å½“ä¸­&lt;/strong&gt;ï¼Œæ³¨æ„æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯æœ‰ä¹‹å‰æ³¨å†Œçš„å¾®ä»»åŠ¡çš„ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¼šå…ˆæ‰§è¡Œ async1 å‡½æ•°ä¹‹å¤–çš„å¾®ä»»åŠ¡ (promise1,promise2)ï¼Œç„¶åæ‰æ‰§è¡Œ async1 å†…æ³¨å†Œçš„å¾®ä»»åŠ¡ (async1 end). &lt;strong&gt;å¯ä»¥ç†è§£ä¸ºï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œawait åé¢çš„ä»£ç ä¼šåœ¨æœ¬è½®å¾ªç¯çš„æœ€åè¢«æ‰§è¡Œã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼šå¦‚æœ await åé¢æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåˆ™ç›´æ¥æŠŠ await åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢ã€‚å¦‚æœåé¢ä¸ºä¸€ä¸ªå¼‚æ­¥å‡½æ•°çš„è°ƒç”¨ï¼Œåˆ™ç­‰åˆ°æœ¬è½®å¾ªç¯ä¸­å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åå†æŠŠ await åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ—¶å€™ await åé¢çš„ä»£ç æ—¶æ˜¯æœ¬è½®å¾ªç¯ä¸­çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œä¼šåœ¨æœ¬è½®å¾ªç¯çš„æœ€åè¢«æ‰§è¡Œã€‚&lt;/p&gt;
</content>
        <category term="ç¬”è®°" scheme="https://zimu-66ccff.github.io/categories/note/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/categories/note/front-end/" />
        <category term="JavaScript" scheme="https://zimu-66ccff.github.io/categories/note/front-end/javaScript/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/tags/%E5%89%8D%E7%AB%AF/" />
        <category term="æµè§ˆå™¨" scheme="https://zimu-66ccff.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" />
        <category term="JSé«˜çº§" scheme="https://zimu-66ccff.github.io/tags/JS%E9%AB%98%E7%BA%A7/" />
        <category term="äº‹ä»¶å¾ªç¯" scheme="https://zimu-66ccff.github.io/tags/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" />
        <updated>2023-02-16T02:20:17.000Z</updated>
    </entry>
    <entry>
        <id>https://zimu-66ccff.github.io/reactivity-effect/</id>
        <title>Vueå“åº”å¼æ¨¡å—-reactivity-effect</title>
        <link rel="alternate" href="https://zimu-66ccff.github.io/reactivity-effect/"/>
        <content type="html">&lt;h1 id=&#34;effect-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#effect-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;#&lt;/a&gt; effect æ–¹æ³•å‰–æä¸å®ç°&lt;/h1&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç &#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´ä»£ç &#34;&gt;#&lt;/a&gt; å®Œæ•´ä»£ç &lt;/h2&gt;
&lt;figure class=&#34;highlight typescript&#34;&gt;&lt;figcaption data-lang=&#34;typescript&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;EffectFn&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  deps&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;Array&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;Set&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;EffectFn&lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  options&lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; Options&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Options&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  scheduler&lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fn&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; EffectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  lazy&lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;boolean&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; activeEffect&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; EffectFn&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; effectStarck&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;Array&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;EffectFn&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; targetMap&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; WeakMap&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  object&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  Map&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; Set&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;EffectFn&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;undefined&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;undefined&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;WeakMap&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;effect&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function-variable function&#34;&gt;fn&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; options&lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; Options&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; effectFn&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token function-variable function&#34;&gt;EffectFn&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token function&#34;&gt;clearUp&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    activeEffect &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; effectFn&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    effectStarck&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; res &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;fn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    effectStarck&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;pop&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    activeEffect &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; effectStarck&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;effectStarck&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;length &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; res&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  effectFn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;deps &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;Array&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;Set&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;EffectFn&lt;span class=&#34;token operator&#34;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  effectFn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;options &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; options&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;options&lt;span class=&#34;token operator&#34;&gt;?.&lt;/span&gt;lazy&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; effectFn&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token function&#34;&gt;effectFn&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;clearUp&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fn&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; EffectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  fn&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;deps&lt;span class=&#34;token operator&#34;&gt;?.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;deps&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    deps&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;fn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;effect-æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#effect-æ¦‚è¿°&#34;&gt;#&lt;/a&gt; effect æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;effect&lt;/code&gt;  æ˜¯ä¸€ä¸ªç”¨æ¥æ³¨å†Œå‰¯ä½œç”¨çš„å‡½æ•°ï¼Œå®ƒé»˜è®¤ä¼šå°†æ³¨å†Œçš„å‰¯ä½œç”¨ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶æ”¯æŒä¼ é€’ä¸€ä¸ªé€‰é¡¹å‚æ•° &lt;code&gt;options&lt;/code&gt; ï¼Œå¯ä»¥é…ç½®æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œå°†å‰¯ä½œç”¨å‡½æ•°è¿”å›ä»¥ä¾¿äºæ‰‹åŠ¨æ‰§è¡Œ and é…ç½®è°ƒåº¦å™¨ &lt;code&gt;scheduler&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;éƒ¨åˆ†å˜é‡å±æ€§æ–¹æ³•ä»‹ç»&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#éƒ¨åˆ†å˜é‡å±æ€§æ–¹æ³•ä»‹ç»&#34;&gt;#&lt;/a&gt; éƒ¨åˆ†å˜é‡ï¼Œå±æ€§ï¼Œæ–¹æ³•ä»‹ç»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;activeEffect&lt;/code&gt; &lt;/strong&gt; : ç”¨æ¥å­˜å‚¨å½“å‰çš„å‰¯ä½œç”¨å‡½æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;effectStrack&lt;/code&gt; &lt;/strong&gt; : å› ä¸º &lt;code&gt;effect&lt;/code&gt;  å¯èƒ½ä¼šåµŒå¥—  &lt;code&gt;effect&lt;/code&gt;  ï¼Œæ‰€ä»¥éœ€è¦ç”¨ &lt;code&gt;effectStrack&lt;/code&gt;  æ¥å­˜å‚¨è¿™äº›åµŒå¥—çš„&lt;strong&gt;å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;ï¼Œå½“å†…å±‚çš„ &lt;code&gt;effect&lt;/code&gt;  æ‰§è¡Œå®Œæ¯•åï¼Œå°†&lt;strong&gt;å†…å±‚çš„å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;å¼¹å‡ºï¼Œå°†&lt;strong&gt;å¤–å±‚çš„å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;èµ‹å€¼ç»™ç”¨æ¥å­˜å‚¨&lt;strong&gt;å½“å‰çš„å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;çš„ &lt;code&gt;activeEffect&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;targetMap&lt;/code&gt; &lt;/strong&gt;: ä¸€ç§ &lt;code&gt;WeakMap&lt;/code&gt;  ç»“æ„ï¼Œç”¨æ¥å­˜å‚¨ &lt;code&gt;target&lt;/code&gt; ,  &lt;code&gt;key&lt;/code&gt; , &lt;strong&gt;å‰¯ä½œç”¨&lt;/strong&gt;ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://i.328888.xyz/2023/02/14/mVXrd.png&#34; alt=&#34;å…³ç³»å›¾&#34; /&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;effectFn.deps&lt;/code&gt; &lt;/strong&gt;: ç±»å‹ä¸º &lt;code&gt;Array&amp;lt;Set&amp;gt;&lt;/code&gt; ï¼Œç”¨æ¥å­˜å‚¨ä¿å­˜çš„æœ‰è¯¥å‰¯ä½œç”¨çš„ &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt; , ä»¥ä¾¿äºåœ¨å‰¯ä½œç”¨å‡½æ•°&lt;strong&gt;å†æ¬¡æ‰§è¡Œ&lt;/strong&gt;çš„æ—¶å€™è°ƒç”¨çš„ &lt;code&gt;clearUp&lt;/code&gt;  æ–¹æ³•æ¥å°† &lt;code&gt;effectFn&lt;/code&gt;  ä»è¿™äº› &lt;code&gt;Set&lt;/code&gt;  ä¸­ç§»é™¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; &lt;code&gt;clearUp&lt;/code&gt; &lt;/strong&gt; : åˆ©ç”¨ &lt;code&gt;effectFn.deps&lt;/code&gt;  å°† &lt;code&gt;effectFn&lt;/code&gt;  ä»å…¶æ‰€åœ¨çš„ &lt;code&gt;Set&lt;/code&gt;  ä¸­ç§»é™¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¯¦ç»†æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯¦ç»†æ­¥éª¤&#34;&gt;#&lt;/a&gt; è¯¦ç»†æ­¥éª¤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å®šä¹‰ &lt;code&gt;effectFn&lt;/code&gt;  å¢å¼ºç‰ˆå‰¯ä½œç”¨å‡½æ•°ï¼Œä»¥ä¾¿äºå¢å¼ºå®ƒï¼Œå¹¶åšè¿›ä¸€æ­¥å¤„ç†
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;effectFn&lt;/code&gt;  å‡½æ•°å°†åšçš„äº‹æƒ…
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;clearUp&lt;/code&gt;  æ¥å°† &lt;code&gt;effectFn&lt;/code&gt;  ä»å…¶æ‰€åœ¨çš„ &lt;code&gt;Set&lt;/code&gt;  ä¸­ç§»é™¤ï¼Œä»è€Œé¿å… &lt;code&gt;trigger&lt;/code&gt;  è§¦å‘æ²¡å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å°† &lt;code&gt;effectFn&lt;/code&gt;  èµ‹å€¼ç»™ &lt;code&gt;activeEffect&lt;/code&gt; , å¹¶å°† &lt;code&gt;effectFn&lt;/code&gt;  æ”¾è¿› &lt;code&gt;effectStack&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;fn&lt;/code&gt;  å‰¯ä½œç”¨å‡½æ•°ï¼Œå°†è¿”å›å€¼ä¿å­˜è¿› &lt;code&gt;res&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;å°† &lt;code&gt;effectFn&lt;/code&gt;  ä» &lt;code&gt;activeEffect&lt;/code&gt;  ä¸­å¼¹å‡ºï¼Œå¹¶å°† &lt;code&gt;activeEffect&lt;/code&gt;  çš„æœ€åä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™ &lt;code&gt;activeEffect&lt;/code&gt; ï¼ˆè®© &lt;code&gt;activeEffect&lt;/code&gt;  æŒ‡å‘å¤–å±‚çš„å‰¯ä½œç”¨å‡½æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;è¿”å› &lt;code&gt;res&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;effectFn&lt;/code&gt;  å‡½æ•°ä¸Šæ·»åŠ å±æ€§ï¼Œå¢å¼ºå®ƒ
&lt;ul&gt;
&lt;li&gt;åœ¨ &lt;code&gt;effectFn&lt;/code&gt;  ä¸Šæ·»åŠ  &lt;code&gt;deps&lt;/code&gt;  å±æ€§ï¼Œç”¨æ¥å­˜å‚¨ä¿å­˜æœ‰è¯¥å‰¯ä½œç”¨å‡½æ•°çš„ &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  çš„å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt; , ä»¥æä¾›ç»™ &lt;code&gt;clearUp&lt;/code&gt;  å‡½æ•°ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;effectFn&lt;/code&gt;  å‡½æ•°ä¸Šæ·»åŠ  &lt;code&gt;options&lt;/code&gt;  å±æ€§ï¼Œä¿å­˜å‰¯ä½œç”¨å‡½æ•°çš„é…ç½®é€‰é¡¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ¹æ® &lt;code&gt;effectFn&lt;/code&gt;  å‡½æ•°çš„é…ç½®é€‰é¡¹ &lt;code&gt;options&lt;/code&gt;  å±æ€§ï¼Œæ¥è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;effectFn.options.lazy&lt;/code&gt;  ä¸º &lt;code&gt;true&lt;/code&gt; ï¼Œåˆ™ä¸ç«‹å³æ‰§è¡Œ &lt;code&gt;effectFn&lt;/code&gt; , è€Œæ˜¯å°† &lt;code&gt;effectFn&lt;/code&gt;  è¿”å›ï¼Œæ‰‹åŠ¨è°ƒç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸º &lt;code&gt;false&lt;/code&gt; ï¼Œ åˆ™ç«‹å³æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;track-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#track-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;#&lt;/a&gt; track æ–¹æ³•å‰–æä¸å®ç°&lt;/h1&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç -2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´ä»£ç -2&#34;&gt;#&lt;/a&gt; å®Œæ•´ä»£ç &lt;/h2&gt;
&lt;figure class=&#34;highlight typescript&#34;&gt;&lt;figcaption data-lang=&#34;typescript&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;track&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;activeEffect&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; depsMap &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; targetMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;depsMap&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; targetMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;depsMap &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; deps &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; depsMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;deps&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; depsMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;deps &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  deps&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;activeEffect&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  activeEffect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;deps&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;deps&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;track-æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#track-æ¦‚è¿°&#34;&gt;#&lt;/a&gt; track æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥æ”¶é›†å‰¯ä½œç”¨ï¼Œå°†å‰¯ä½œç”¨å­˜å‚¨è¿›å¯¹åº”çš„ &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯¦ç»†æ­¥éª¤-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯¦ç»†æ­¥éª¤-2&#34;&gt;#&lt;/a&gt; è¯¦ç»†æ­¥éª¤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¾¹ç•Œå¤„ç†
&lt;ul&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;activeEffect == undefined&lt;/code&gt; ï¼Œåˆ™ç›´æ¥è¿”å›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å°†å‰¯ä½œç”¨å‡½æ•°å­˜å‚¨è¿›å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;targetMap.get(target)&lt;/code&gt;  å–å‡º &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Map&lt;/code&gt; ï¼ˆé‡Œé¢å­˜å‚¨çš„æ˜¯ &lt;code&gt;key&lt;/code&gt;  å’Œå¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt; ï¼‰å¹¶èµ‹å€¼ç»™ &lt;code&gt;depsMap&lt;/code&gt; ã€‚å¦‚æœ &lt;code&gt;depsMao&lt;/code&gt;  ä¸ºç©ºï¼Œåˆ™è°ƒç”¨ &lt;code&gt;targetMap.set(target, (depsMap = new Map))&lt;/code&gt;  æ–°å»ºä¸€ä¸ª &lt;code&gt;Map&lt;/code&gt;  å­˜è¿› &lt;code&gt;targetMap&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;depsMap.get(key)&lt;/code&gt;  å–å‡º &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  (é‡Œé¢å­˜å‚¨çš„æ˜¯ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°) å¹¶èµ‹å€¼ç»™ &lt;code&gt;deps&lt;/code&gt; ã€‚å¦‚æœ &lt;code&gt;deps&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨ &lt;code&gt;depsMap.set(key, (deps = new Set()))&lt;/code&gt;  æ–°å»ºä¸€ä¸ª &lt;code&gt;Set&lt;/code&gt;  å­˜è¿› &lt;code&gt;depsMap&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;deps.add(activeEffect)&lt;/code&gt;  å°†å‰¯ä½œç”¨å‡½æ•°å­˜å‚¨è¿› &lt;code&gt;Set&lt;/code&gt; .&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å°†å­˜æœ‰è¯¥å‰¯ä½œç”¨å‡½æ•°çš„ &lt;code&gt;Set&lt;/code&gt;  å­˜å‚¨è¿› &lt;code&gt;activeEffect.deps&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;trigger-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#trigger-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;#&lt;/a&gt; trigger æ–¹æ³•å‰–æä¸å®ç°&lt;/h1&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç -3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´ä»£ç -3&#34;&gt;#&lt;/a&gt; å®Œæ•´ä»£ç &lt;/h2&gt;
&lt;figure class=&#34;highlight typescript&#34;&gt;&lt;figcaption data-lang=&#34;typescript&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;trigger&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; depsMap &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; targetMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;depsMap&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; effects &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; depsMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;effects&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; effectsToRun&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; Set&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;EffectFn&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  effects&lt;span class=&#34;token operator&#34;&gt;?.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn &lt;span class=&#34;token operator&#34;&gt;!==&lt;/span&gt; activeEffect&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      effectsToRun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFn&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  effectsToRun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFnToRun&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFnToRun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;options&lt;span class=&#34;token operator&#34;&gt;?.&lt;/span&gt;scheduler&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      effectFnToRun&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;options&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;scheduler&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;effectFnToRun&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token function&#34;&gt;effectFnToRun&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;trigger-æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#trigger-æ¦‚è¿°&#34;&gt;#&lt;/a&gt; trigger æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥è°ƒç”¨ &lt;code&gt;track&lt;/code&gt;  æ”¶é›†çš„å‰¯ä½œç”¨ï¼Œå¦‚æœæœ‰è°ƒåº¦å™¨ï¼Œåˆ™è°ƒç”¨è°ƒåº¦å™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯¦ç»†æ­¥éª¤-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯¦ç»†æ­¥éª¤-3&#34;&gt;#&lt;/a&gt; è¯¦ç»†æ­¥éª¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å–å‡ºå¯¹åº”çš„ &lt;code&gt;target&lt;/code&gt;  çš„å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  çš„å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt; , å¹¶åšè¾¹ç•Œå¤„ç†
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;targetMap.get(target)&lt;/code&gt;  å–å‡º &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Map&lt;/code&gt;  èµ‹å€¼ç»™ &lt;code&gt;depsMap&lt;/code&gt; ã€‚å¦‚æœ &lt;code&gt;depsMap&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;depsMap.get(key)&lt;/code&gt;  å–å‡º &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  å¹¶å¤åˆ¶ç»™ &lt;code&gt;effects&lt;/code&gt; ï¼Œå¦‚æœ &lt;code&gt;effects&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å®šä¹‰ä¸€ä¸ª &lt;code&gt;effectsToRun&lt;/code&gt; , å°† &lt;code&gt;effects&lt;/code&gt;  å­˜å‚¨çš„å‰¯ä½œç”¨å‡½æ•°å…¨éƒ¨æ·»åŠ åˆ° &lt;code&gt;effectsToRun&lt;/code&gt; , ä»¥ç­‰å¾…éå† &lt;code&gt;effectsToRun&lt;/code&gt;  æ‰§è¡Œå­˜å‚¨çš„æ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°ã€‚ï¼ˆä¹‹æ‰€ä»¥è¿™ä¹ˆåšæ˜¯å› ä¸ºï¼Œå‰¯ä½œç”¨å‡½æ•°åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šå…ˆè°ƒç”¨ &lt;code&gt;clearUp&lt;/code&gt;  å°†å…¶ä» &lt;code&gt;Set&lt;/code&gt;  ä¸­åˆ é™¤ï¼Œæ‰§è¡Œ &lt;code&gt;fn&lt;/code&gt;  çš„æ—¶å€™åˆä¼šå°† &lt;code&gt;effectFn&lt;/code&gt;  æ·»åŠ åˆ° &lt;code&gt;Set&lt;/code&gt; , è¿™æ ·å°±ä¼šé™·å…¥æ— é™å¾ªç¯ï¼Œ æ‰€ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„ &lt;code&gt;Set&lt;/code&gt;  æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼‰&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;effectsToRun.forEach&lt;/code&gt;  æ¥éå†å®ƒï¼Œå¹¶è°ƒç”¨å­˜å‚¨çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨è°ƒç”¨å‰ä¼šåšåˆ¤æ–­ï¼Œå¦‚æœ &lt;code&gt;effectToRun.options.scheduler&lt;/code&gt;  å­˜åœ¨çš„è¯ï¼Œä¼šè°ƒç”¨ &lt;code&gt;effectToRun.options.sheduler&lt;/code&gt;  è€Œä¸æ˜¯è°ƒç”¨ &lt;code&gt;effectToRun&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="ç¬”è®°" scheme="https://zimu-66ccff.github.io/categories/note/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/categories/note/front-end/" />
        <category term="Vue" scheme="https://zimu-66ccff.github.io/categories/note/front-end/vue/" />
        <category term="VueåŸç†å®ç°" scheme="https://zimu-66ccff.github.io/categories/note/front-end/vue/vueCore/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/tags/%E5%89%8D%E7%AB%AF/" />
        <category term="Vue" scheme="https://zimu-66ccff.github.io/tags/Vue/" />
        <category term="VueåŸç†åˆ¨æ" scheme="https://zimu-66ccff.github.io/tags/Vue%E5%8E%9F%E7%90%86%E5%88%A8%E6%9E%90/" />
        <category term="Vueå“åº”å¼æ¨¡å—åˆ¨æ" scheme="https://zimu-66ccff.github.io/tags/Vue%E5%93%8D%E5%BA%94%E5%BC%8F%E6%A8%A1%E5%9D%97%E5%88%A8%E6%9E%90/" />
        <category term="effect" scheme="https://zimu-66ccff.github.io/tags/effect/" />
        <updated>2023-02-14T05:57:48.000Z</updated>
    </entry>
    <entry>
        <id>https://zimu-66ccff.github.io/reactivity-reactive/</id>
        <title>Vueå“åº”å¼æ¨¡å—-reactivity-reactive</title>
        <link rel="alternate" href="https://zimu-66ccff.github.io/reactivity-reactive/"/>
        <content type="html">&lt;h1 id=&#34;ractive-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ractive-æ–¹æ³•å‰–æä¸å®ç°&#34;&gt;#&lt;/a&gt; ractive æ–¹æ³•å‰–æä¸å®ç°&lt;/h1&gt;
&lt;h2 id=&#34;å®Œæ•´ä»£ç å®ç°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å®Œæ•´ä»£ç å®ç°&#34;&gt;#&lt;/a&gt; å®Œæ•´ä»£ç å®ç°&lt;/h2&gt;
&lt;figure class=&#34;highlight typescript&#34;&gt;&lt;figcaption data-lang=&#34;typescript&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; isArray&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; isObject&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; hasChanged &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;../utils/index&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; effect&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; track&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; trigger &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;./effect&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;4&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;5&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isObject&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; target&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;6&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; target&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;7&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;reactiveMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;has&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; reactiveMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;8&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;9&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; reactiveProxy&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; Record&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;number&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;symbol&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;Proxy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;10&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;11&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;12&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;13&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;key &lt;span class=&#34;token operator&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;_isReactive&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token boolean&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;14&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token function&#34;&gt;track&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;15&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; res &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; Reflect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;16&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;isObject&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;res&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;res&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; res&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;17&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;18&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; newValue&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;19&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; oldValue &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; Reflect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;20&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; oldLength &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; Reflect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;length&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;21&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; res &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; Reflect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; newValue&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;22&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;hasChanged&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;oldValue&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; newValue&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;23&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token function&#34;&gt;trigger&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; key&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;24&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;25&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token function&#34;&gt;isArray&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;26&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            oldLength &lt;span class=&#34;token operator&#34;&gt;!=&lt;/span&gt; Reflect&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;length&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;27&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            key &lt;span class=&#34;token operator&#34;&gt;!==&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;length&#39;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;28&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;29&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;            &lt;span class=&#34;token function&#34;&gt;trigger&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;length&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;30&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;          &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;31&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;32&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; res&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;33&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;34&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;35&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;36&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;37&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  reactiveMap&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; reactiveProxy&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;38&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; reactiveProxy&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;39&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;40&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;41&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;42&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;target &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; target&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;__isReactive&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;43&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;h2 id=&#34;è¾¹ç•Œå¤„ç†å¯¹ç‰¹æ®Šæƒ…å†µçš„å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¾¹ç•Œå¤„ç†å¯¹ç‰¹æ®Šæƒ…å†µçš„å¤„ç†&#34;&gt;#&lt;/a&gt; è¾¹ç•Œå¤„ç†ï¼ˆå¯¹&lt;strong&gt;ç‰¹æ®Šæƒ…å†µ&lt;/strong&gt;çš„å¤„ç†ï¼‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;target&lt;/code&gt;  çš„ç±»å‹ä¸ä¸º  &lt;code&gt;Object&lt;/code&gt;  æ—¶ï¼š
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;isObject&lt;/code&gt;  æ–¹æ³•åˆ¤æ–­ &lt;code&gt;target&lt;/code&gt;  çš„ç±»å‹æ˜¯å¦ä¸º &lt;code&gt;Object&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;isObject&lt;/code&gt;  æ–¹æ³•çš„è¿”å›å€¼ä¸º &lt;code&gt;false&lt;/code&gt;  æ—¶ï¼Œå³ &lt;code&gt;target&lt;/code&gt;  çš„ç±»å‹ä¸ä¸º &lt;code&gt;Object&lt;/code&gt; , åˆ™ç›´æ¥è¿”å› &lt;code&gt;target&lt;/code&gt; , ä¸åšæ¥ä¸‹æ¥çš„å“åº”å¼å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;target&lt;/code&gt; &lt;strong&gt; æœ¬èº«&lt;/strong&gt;å·²ç»ä¸ºä¸€ä¸ª&lt;strong&gt;å“åº”å¼ä»£ç†&lt;/strong&gt;æ—¶:
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;isRective&lt;/code&gt;  æ–¹æ³•åˆ¤æ–­ &lt;code&gt;target&lt;/code&gt;  æ˜¯å¦ä¸º&lt;strong&gt;å“åº”å¼ä»£ç†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;isReactive&lt;/code&gt;  æ–¹æ³•çš„è¿”å›å€¼ä¸º &lt;code&gt;true&lt;/code&gt;  æ—¶ï¼Œ å³ &lt;code&gt;target&lt;/code&gt;  å·²ç»ä¸ºä¸€ä¸ª&lt;strong&gt;å“åº”å¼ä»£ç†&lt;/strong&gt;ï¼Œåˆ™ç›´æ¥è¿”å› &lt;code&gt;target&lt;/code&gt; ï¼Œä¸å†åšæ¥ä¸‹æ¥çš„å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;target&lt;/code&gt;  å·²ç»&lt;strong&gt;è¢«åšè¿‡å“åº”å¼ä»£ç†&lt;/strong&gt;æ—¶:
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;reactiveMap.has(target)&lt;/code&gt;  æ–¹æ³•æ¥åˆ¤æ–­ &lt;code&gt;target&lt;/code&gt;  æ˜¯å¦å·²ç»è¢«åšè¿‡&lt;strong&gt;å“åº”å¼ä»£ç†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reactiveMap.has(target)&lt;/code&gt;  æ–¹æ³•è¿”å›å€¼ä¸º &lt;code&gt;true&lt;/code&gt;  æ—¶ï¼Œ å³ &lt;code&gt;target&lt;/code&gt;  å·²ç»è¢«åšè¿‡&lt;strong&gt;å“åº”å¼ä»£ç†&lt;/strong&gt;ï¼Œåˆ™ç›´æ¥è°ƒç”¨ &lt;code&gt;reactiveMap.get(targey)&lt;/code&gt;  æ–¹æ³•è¿”å›&lt;strong&gt;å®ƒçš„å“åº”å€¼ä»£ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å“åº”å¼å¤„ç†&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#å“åº”å¼å¤„ç†&#34;&gt;#&lt;/a&gt; å“åº”å¼å¤„ç†&lt;/h2&gt;
&lt;h3 id=&#34;æ•´ä½“æ¦‚è¿°&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ•´ä½“æ¦‚è¿°&#34;&gt;#&lt;/a&gt; æ•´ä½“æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨ &lt;code&gt;Proxy&lt;/code&gt;  å¯¹ &lt;code&gt;target&lt;/code&gt;  åšä¸€ä¸ª&lt;strong&gt;æ•°æ®ä»£ç†&lt;/strong&gt;ï¼Œæ‹¦æˆªå…¶ &lt;code&gt;getter&lt;/code&gt;  and  &lt;code&gt;setter&lt;/code&gt; , æœ€åè¿”å›è¿™ä¸ª&lt;strong&gt;æ•°æ®ä»£ç†&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¯¦ç»†æ­¥éª¤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è¯¦ç»†æ­¥éª¤&#34;&gt;#&lt;/a&gt; è¯¦ç»†æ­¥éª¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ‹¦æˆª getter&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;åšè¾¹ç•Œå¤„ç†&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;if(key === &#39;_isReactive&#39;)&lt;/code&gt;  åˆ¤æ–­å…¶è¦è·å–çš„ &lt;code&gt;key&lt;/code&gt;  æ˜¯å¦ä¸º &lt;code&gt;_isReactive&lt;/code&gt; , å½“ &lt;code&gt;if&lt;/code&gt;  åˆ¤æ–­ä¸º &lt;code&gt;true&lt;/code&gt;  æ—¶ï¼Œåˆ™ç›´æ¥è¿”å› &lt;code&gt;false&lt;/code&gt; ï¼Œ&lt;strong&gt;ä¸å†è¿›è¡Œæ¥ä¸‹æ¥çš„å¤„ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;æ”¶é›†å‰¯ä½œç”¨&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;track&lt;/code&gt;  æ–¹æ³•æ¥æ”¶é›†&lt;strong&gt;å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;ï¼Œå°†å…¶æ”¶é›†åˆ° &lt;code&gt;target&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  çš„å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  é‡Œé¢ï¼Œç­‰å¾… &lt;code&gt;setter&lt;/code&gt;  è¢«è§¦å‘ï¼Œå¹¶ä¿®æ”¹ &lt;code&gt;target[key]&lt;/code&gt;  çš„æ—¶å€™è°ƒç”¨ &lt;code&gt;trigger&lt;/code&gt;  æ¥å°†è¿™ä¸ª &lt;code&gt;Set&lt;/code&gt;  é‡Œé¢å­˜å‚¨çš„&lt;strong&gt;å‰¯ä½œç”¨å‡½æ•°&lt;/strong&gt;ä¸€ä¸€è§¦å‘.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ps&lt;/strong&gt;: &lt;em&gt;&lt;a href=&#34;https://zimu-66ccff.github.io/reactivity-effect/&#34;&gt;(track æ–¹æ³•çš„è®²è§£è¯·ç‚¹å‡»è¿™é‡Œå¥¥)&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;è¿”å› &lt;code&gt;target[key]&lt;/code&gt;  çš„å€¼ï¼Œåšæ·±åº¦å“åº”å¼å¤„ç†&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;Reflect.get(target, key)&lt;/code&gt;  å–å‡º &lt;code&gt;target[key]&lt;/code&gt;  çš„å€¼&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­ &lt;code&gt;target[key]&lt;/code&gt;  çš„å€¼çš„ç±»å‹æ˜¯å¦ä¸º &lt;code&gt;Object&lt;/code&gt; , å½“ä¸º &lt;code&gt;Object&lt;/code&gt;  æ—¶ï¼Œåˆ™è¿”å› &lt;code&gt;reactive(target[key])&lt;/code&gt;  å¯¹å…¶åšæ·±åº¦å“åº”å¼å¤„ç†ï¼Œå½“ä¸ä¸º &lt;code&gt;Object&lt;/code&gt;  æ—¶ï¼Œåˆ™ç›´æ¥è¿”å› &lt;code&gt;target[key]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ‹¦æˆª setter&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;å–å‡ºç›¸å…³æ•°æ®ï¼Œ è¿›è¡Œæ›´æ–°æ“ä½œ&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;Reflect.get&lt;/code&gt;  æ–¹æ³•å–å‡ºæ²¡æœ‰ä¿®æ”¹å‰çš„ &lt;code&gt;target[key]&lt;/code&gt;  å³ &lt;code&gt;oldValue&lt;/code&gt;  and æ²¡æœ‰ä¿®æ”¹å‰çš„ &lt;code&gt;target[length]&lt;/code&gt;  å³ &lt;code&gt;oldLength&lt;/code&gt; , åˆ©ç”¨ &lt;code&gt;Reflect.set&lt;/code&gt;  è¿›è¡Œå¯¹ &lt;code&gt;target[key]&lt;/code&gt;  çš„æ›´æ–°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;åˆ¤æ–­æ˜¯å¦éœ€è¦è°ƒç”¨å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  å­˜å‚¨çš„å‰¯ä½œç”¨å‡½æ•°&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;hasChanged()&lt;/code&gt;  åˆ¤æ–­æ–°æ—§å€¼æ˜¯å¦å‘ç”Ÿäº†æ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æ”¹å˜åˆ™ä¸è¿›è¡Œæ¥ä¸‹æ¥çš„å¤„ç†ã€‚å¦‚æœå‘ç”Ÿäº†æ”¹å˜ï¼Œåˆ™è°ƒç”¨ &lt;code&gt;trigger&lt;/code&gt;  æ–¹æ³•ï¼Œæ¥è°ƒç”¨å¯¹åº”çš„ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  å­˜å‚¨çš„å‰¯ä½œç”¨å‡½æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ps&lt;/strong&gt;: &lt;em&gt;&lt;a href=&#34;https://zimu-66ccff.github.io/reactivity-effect/&#34;&gt;trigger æ–¹æ³•çš„è®²è§£è¯·ç‚¹å‡»è¿™é‡Œå¥¥&lt;/a&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;em&gt;åˆ¤æ–­ &lt;code&gt;target&lt;/code&gt;  æ˜¯å¦ä¸º &lt;code&gt;Array&lt;/code&gt; , å¹¶ä¸”æ•°ç»„çš„é•¿åº¦æ˜¯å¦å‘ç”Ÿäº†æ”¹å˜&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ &lt;code&gt;isArray&lt;/code&gt;  åˆ¤æ–­ &lt;code&gt;target&lt;/code&gt; ï¼Œå¹¶åˆ©ç”¨ &lt;code&gt;Reflect.get()&lt;/code&gt;  å–å¾—æ›´æ–°åæ•°ç»„çš„é•¿åº¦ï¼Œå¹¶ä¸ä¹‹å‰æ•°ç»„çš„é•¿åº¦ &lt;code&gt;oldLength&lt;/code&gt;  æ¯”è¾ƒï¼Œçœ‹æ˜¯å¦å‘ç”Ÿäº†æ”¹å˜ï¼Œå¦‚æœå‘ç”Ÿäº†æ”¹å˜ï¼Œåˆ™è°ƒç”¨ &lt;code&gt;tigger&lt;/code&gt;  æ–¹æ³•ï¼Œæ¥è°ƒç”¨ &lt;code&gt;length&lt;/code&gt;  å¯¹åº”çš„ &lt;code&gt;Set&lt;/code&gt;  å­˜å‚¨çš„å‰¯ä½œç”¨ã€‚&lt;em&gt;ï¼ˆä¹‹æ‰€ä»¥è¦è¿™æ ·åšï¼Œæ˜¯å› ä¸ºå½“ç»™æ•°ç»„å¢åŠ  or åˆ é™¤å…ƒç´ çš„æ—¶å€™ï¼Œæ•°ç»„çš„ &lt;code&gt;length&lt;/code&gt;  å°±å·²ç»æ”¹å˜äº†ï¼Œ å½“å¯¹ &lt;code&gt;length&lt;/code&gt;  çš„æ›´æ–°çš„æ‹¦æˆªçš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°æ–°å€¼å’Œæ—§å€¼æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸ä¼šè§¦å‘ &lt;code&gt;trigger&lt;/code&gt; ï¼‰&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å°†å“åº”å¼ä»£ç†å­˜å‚¨èµ·æ¥ï¼Œå¹¶è¿”å›å“åº”å¼ä»£ç†&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;reactiveMap.set&lt;/code&gt;  æ–¹æ³•ï¼Œå°†å“åº”å¼ä»£ç†å’Œ &lt;code&gt;target&lt;/code&gt;  å…³è”èµ·æ¥å¹¶å­˜å‚¨ï¼Œä»¥ä¾¿äºåšä¸Šæ–‡çš„&lt;strong&gt;è¾¹ç•Œå¤„ç†&lt;/strong&gt; ( &lt;code&gt;target&lt;/code&gt;  å·²ç»è¢«åšè¿‡å“åº”å¼ä»£ç†æ—¶)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿”å›å“åº”å¼ä»£ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="ç¬”è®°" scheme="https://zimu-66ccff.github.io/categories/note/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/categories/note/front-end/" />
        <category term="Vue" scheme="https://zimu-66ccff.github.io/categories/note/front-end/vue/" />
        <category term="VueåŸç†å®ç°" scheme="https://zimu-66ccff.github.io/categories/note/front-end/vue/vueCore/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/tags/%E5%89%8D%E7%AB%AF/" />
        <category term="Vue" scheme="https://zimu-66ccff.github.io/tags/Vue/" />
        <category term="VueåŸç†åˆ¨æ" scheme="https://zimu-66ccff.github.io/tags/Vue%E5%8E%9F%E7%90%86%E5%88%A8%E6%9E%90/" />
        <category term="Vueå“åº”å¼æ¨¡å—åˆ¨æ" scheme="https://zimu-66ccff.github.io/tags/Vue%E5%93%8D%E5%BA%94%E5%BC%8F%E6%A8%A1%E5%9D%97%E5%88%A8%E6%9E%90/" />
        <category term="reactive" scheme="https://zimu-66ccff.github.io/tags/reactive/" />
        <updated>2023-02-14T02:21:11.000Z</updated>
    </entry>
    <entry>
        <id>https://zimu-66ccff.github.io/promiseLearn/</id>
        <title>ç†è§£ä¸ºä»€ä¹ˆéœ€è¦Promise</title>
        <link rel="alternate" href="https://zimu-66ccff.github.io/promiseLearn/"/>
        <content type="html">&lt;h1 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦-promise&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ä¸ºä»€ä¹ˆéœ€è¦-promise&#34;&gt;#&lt;/a&gt; ä¸ºä»€ä¹ˆéœ€è¦ Promiseï¼ŸğŸ¤”&lt;/h1&gt;
&lt;h2 id=&#34;æ˜ç™½åŒæ­¥ä»»åŠ¡-and-å¼‚æ­¥ä»»åŠ¡&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ˜ç™½åŒæ­¥ä»»åŠ¡-and-å¼‚æ­¥ä»»åŠ¡&#34;&gt;#&lt;/a&gt; æ˜ç™½åŒæ­¥ä»»åŠ¡ and å¼‚æ­¥ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œå‰ç«¯ er ä»¬éœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼Œåœ¨ js è¿™ç§å•çº¿ç¨‹çš„äº‹ä»¶å¾ªç¯æ¨¡å‹ä¸­ï¼Œä¸€ä»¶äº‹æƒ…æ²¡åšå®Œæ˜¯ä¸èƒ½åšä¸‹ä¸€ä»¶äº‹æƒ…çš„ã€‚è¿™æ—¶å€™ç¿æ™ºçš„å‹å‹ä»¬å°±ä¼šè¯´è¿™åˆå’‹äº†å‘¢ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿå“å˜¿ï¼Œè¿˜çœŸæœ‰é—®é¢˜ï¼Œé—®é¢˜è¿˜å¤§äº†ï¼Œè¦æ˜¯ä¸­é—´æœ‰ä¸€ä»¶äº‹æƒ…è€—æ—¶å¤ªé•¿ï¼Œå¯¼è‡´åé¢è€—æ—¶å¾ˆçŸ­çš„äº‹æƒ…åšä¸äº†æ€ä¹ˆåŠå‘¢ï¼Ÿä½ çœ‹ï¼Œè¿™ä¸å°±å µè½¦äº†ï¼Œè¿˜ä¼šå µå¾ˆä¹…ã€‚ä½†æ˜¯æˆ‘ä»¬èªæ˜çš„å‰ç«¯ er ä»¬é©¬ä¸Šå°±æœ‰äº†è§£å†³æ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆä¸ç®¡é‚£ä¸ªè€—æ—¶å¾ˆé•¿çš„äº‹æƒ…ï¼Œå…ˆåšåé¢çš„äº‹æƒ…ï¼Œæœ€åå†ç®¡è¿™ä¸ªè€—æ—¶å¾ˆé•¿çš„äº‹æƒ…ä¸å°±å®Œäº‹äº†å— ğŸ˜ã€‚&lt;br /&gt;
å¯¹çš„ï¼Œå°±æ˜¯è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œæ•²é»‘æ¿ ğŸ˜¸ï¼Œjs ä¸­ä»£ç åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡é€šå¸¸ä¸ºé‚£ç§å¯èƒ½ä¼šè€—æ—¶å¾ˆé•¿ or éœ€è¦è§¦å‘æ¡ä»¶çš„ï¼Œä¹Ÿå°±æ˜¯å‰é¢è¯´çš„å¯èƒ½ä¼šå µè½¦ï¼Œè¿˜å µå¾ˆä¹…çš„é‚£ç§ã€‚åŒæ­¥ä»»åŠ¡å½“ç„¶å°±æ˜¯é™¤äº†å¼‚æ­¥ä»»åŠ¡ä»¥å¤–çš„ä»»åŠ¡å•¦ã€‚åœ¨ js çš„æ‰§è¡Œæœºåˆ¶ä¸­ï¼Œä¼šå…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œç­‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•å†æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç§ç§é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç§ç§é—®é¢˜&#34;&gt;#&lt;/a&gt; æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç§ç§é—®é¢˜&lt;/h2&gt;
&lt;p&gt;æ—©æœŸ js ä¸­åªæ”¯æŒå®šä¹‰å›è°ƒå‡½æ•°æ¥è¡¨æ˜å¼‚æ­¥æ“ä½œçš„å®Œæˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šä»¥ setTimeout è¿™ä¸ªå¼‚æ­¥æ“ä½œä¸ºä¾‹å­è¿›è¡Œè®²è§£ã€‚&lt;br /&gt;
è¯•æƒ³è¿™æ ·çš„ä¸€ç§åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ setTimeout ä¸­ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨å‡ ç§’åæ‰§è¡Œï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œå®ƒæœ‰æ˜æ˜¾çš„è§¦å‘æ¡ä»¶ï¼Œæ—¶é—´ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­æˆ‘ä»¬ä¼šè¿›è¡Œæ—¶é—´åˆ°äº†åæˆ‘ä»¬å¸Œæœ›è¿›è¡Œçš„æ“ä½œï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°å¸Œæœ›å¯¹å¤–è¿”å›ä¸€ä¸ªæ•°æ®ï¼Œä»¥ä¾¿äºè¿›ä¸€æ­¥çš„å¤„ç†æ€ä¹ˆåŠï¼ŸğŸ¤” è¿™æ—¶å€™ä½ å°±ä¼šå‘ç°é—®é¢˜ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è¿”å›æ•°æ®ã€‚å¥½çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚å…¶å®è¿˜æœ‰æ›´ä¸¥é‡çš„é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥çš„æ“ä½œä¹Ÿæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚ä¹Ÿæ˜¯åœ¨å‡ ç§’åæ‰§è¡Œæ€ä¹ˆåŠï¼Œä½ ä¼šæƒ³åˆ°ï¼Œå†ä½¿ç”¨ä¸€æ¬¡ setTimeoutï¼Œå†ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚é‚£ä¹ˆç°åœ¨å›è°ƒå‡½æ•°é‡Œé¢åˆåµŒå¥—äº†ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿˜è¦è¿›ä¸€æ­¥æ“ä½œå‘¢ï¼Œè¿˜æ˜¯å¼‚æ­¥æ“ä½œå‘¢ï¼Œå†åµŒå¥—ï¼ŒåµŒå¥—ï¼ŒåµŒå¥—ï¼ŒåµŒå¥—ï¼Œæœ€åä½ ä¸€ä¸ªå›è°ƒå‡½æ•°é‡Œé¢åµŒå¥—äº† n ä¸ªå‡½æ•°ï¼Œæœ€åçš„åœºæ™¯æ˜¯ä»€ä¹ˆæ ·å­å‘¢ã€‚å›è°ƒåœ°ç‹±ï¼ï¼ï¼è¯·çœ‹ä¸‹å›¾ã€‚&lt;br /&gt;
&lt;img data-src=&#34;https://i.328888.xyz/2023/02/12/cwAbF.png&#34; alt=&#34;å›è°ƒåœ°ç‹±&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ç›¸ä¿¡å‰ç«¯ er çœ‹åˆ°ç±»ä¼¼è¿™ç§ä»£ç ï¼Œè¡€å‹æ˜¯é©¬ä¸Šå°±ä¼šä¸Šå‡çš„ï¼Œæ‰€ä»¥å¯ä¸è¦å†™è¿™ç§ä»£ç å¥¥ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šå¼‚æ­¥æ“ä½œçš„é—®é¢˜å¯ä¸æ­¢è¿™äº›ï¼Œæ¯”å¦‚å¦‚æœå¼‚æ­¥æ“ä½œå¤±è´¥äº†ï¼Œæ€ä¹ˆè¿›è¡Œåç»­çš„å¤„ç†ï¼Œæ€ä¹ˆæ‹¿åˆ°å¤±è´¥çš„åŸå› ï¼Œè¿™éƒ½æ˜¯éœ€è¦è§£å†³çš„ã€‚&lt;br /&gt;
é‚£ä¹ˆä¸ºäº†è§£å†³ï¼Œå¦‚ä½•æ‹¿åˆ°è¿”å›å€¼ï¼› å¼‚æ­¥æ“ä½œå¤±è´¥åå¦‚ä½•æ‹¿åˆ°å¤±è´¥çš„åŸå› ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç†ï¼›å¦‚ä½•é¿å…å›è°ƒåœ°ç‹±ï¼›Promise åº”è¿è€Œç”Ÿ ğŸ˜&lt;/p&gt;
&lt;h1 id=&#34;promise-æ˜¯ä»€ä¹ˆ&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#promise-æ˜¯ä»€ä¹ˆ&#34;&gt;#&lt;/a&gt; Promise æ˜¯ä»€ä¹ˆï¼ŸğŸ¤”&lt;/h1&gt;
&lt;p&gt;Promise æ˜¯ä¸€ç§å¼‚æ­¥ç¼–ç¨‹æœºåˆ¶ï¼Œæ˜¯å¯¹å›è°ƒåœ°ç‹±çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚&lt;br /&gt;
Promise å®åˆ—åˆ™æ˜¯ä¸€ç§çŠ¶æ€æœºï¼Œå®ƒæœ‰ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼Œå¾…å®šï¼ˆpendingï¼‰ï¼Œå…‘ç°ï¼ˆfulfilled)ï¼Œ æ‹’ç» (rejected)ï¼Œæœ€åˆçš„çŠ¶æ€ä¸º pendingï¼ŒçŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±å®šäº†ï¼Œå°±ä¸ä¼šå†å‘ç”Ÿä»»ä½•æ”¹å˜äº†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;promise-æ˜¯æ€ä¹ˆè§£å†³æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç–‘éš¾æ‚ç—‡çš„&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#promise-æ˜¯æ€ä¹ˆè§£å†³æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç–‘éš¾æ‚ç—‡çš„&#34;&gt;#&lt;/a&gt; Promise æ˜¯æ€ä¹ˆè§£å†³æ—©æœŸå¼‚æ­¥æ“ä½œçš„ç–‘éš¾æ‚ç—‡çš„ ğŸ¤”&lt;/h1&gt;
&lt;h2 id=&#34;è§£å†³å¦‚ä½•æ‹¿åˆ°è¿”å›å€¼å½“å¼‚æ­¥æ“ä½œå¤±è´¥åå¦‚ä½•æ‹¿åˆ°å¤±è´¥çš„åŸå› å¹¶è¿›ä¸€æ­¥å¤„ç†çš„é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§£å†³å¦‚ä½•æ‹¿åˆ°è¿”å›å€¼å½“å¼‚æ­¥æ“ä½œå¤±è´¥åå¦‚ä½•æ‹¿åˆ°å¤±è´¥çš„åŸå› å¹¶è¿›ä¸€æ­¥å¤„ç†çš„é—®é¢˜&#34;&gt;#&lt;/a&gt; è§£å†³å¦‚ä½•æ‹¿åˆ°è¿”å›å€¼ï¼›å½“å¼‚æ­¥æ“ä½œå¤±è´¥åå¦‚ä½•æ‹¿åˆ°å¤±è´¥çš„åŸå› ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç†çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;æ„é€ å‡½æ•° Promiseï¼ˆï¼‰ä¸­å¯ä»¥ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°è¿™ä¸ªå›è°ƒå‡½æ•°ä¸ºæ‰§è¡Œå™¨å‡½æ•°ï¼Œæ‰§è¡Œå™¨å‡½æ•°ä¸»è¦æœ‰ä¸¤é¡¹èŒè´£ï¼š1. åˆå§‹åŒ–æœŸçº¦çš„å¼‚æ­¥è¡Œä¸ºï¼ˆåœ¨æ‰§è¡Œå™¨å‡½æ•°ä¸­è¿›è¡Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„å¼‚æ­¥æ“ä½œï¼‰å’Œæ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢ï¼ˆå°† Promise å®åˆ—çš„çŠ¶æ€ç”±æœ€åˆçš„ pending è½¬æ¢ä¸º fulfilled or rejectedï¼‰ã€‚é‚£ä¹ˆå®ƒæ˜¯æ€ä¹ˆæ¥æ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢çš„å‘¢ï¼ŸğŸ¤” å¾ˆç®€å•ï¼Œè¿™ä¸ªæ‰§è¡Œå™¨å‡½æ•°æ˜¯è‡ªå¸¦ä¸¤ä¸ªå‚æ•°çš„ï¼Œè¿™ä¸¤ä¸ªå‚æ•°éƒ½ä¸ºå‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸º resolveï¼Œ rejectã€‚ä½ å¯ä»¥åœ¨ resolve ä¸­ä¼ é€’å‚æ•°ï¼Œæ¥è¿”å›ä½ éœ€è¦çš„æ•°æ®ï¼›å¯ä»¥åœ¨ reject ä¸­ä¼ é€’å‚æ•°ï¼Œæ¥è¿”å›å¼‚æ­¥æ“ä½œå¤±è´¥çš„åŸå› ã€‚å½“ä½ åœ¨æ‰§è¡Œå™¨å‡½æ•°ä¸­è°ƒç”¨ resolveï¼ŒPromise å®åˆ—çš„çŠ¶æ€å°±ç”± pending å˜ä¸ºäº† fulfilledï¼ˆæ³¨ï¼šè¿™é‡Œä¸æ˜¯ååˆ†å‡†ç¡®ï¼Œéœ€è¦æ ¼å¤–æ³¨æ„ä¸€ç§ç‰¹åˆ«æƒ…å†µï¼Œå¦‚æœè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª Promiseï¼Œé‚£ä¹ˆ Promise å®åˆ—çš„çŠ¶æ€å°†ç”±è¿”å›çš„è¿™ä¸ª Promise å†³å®šï¼Œä¸ºè¿™ä¸ª Promise çš„çŠ¶æ€ï¼Œä¸ä¸€å®šä¸º fulfilledï¼‰ï¼›åŒç†ï¼Œå½“ä½ è°ƒç”¨äº† rejectï¼ŒPromise å®åˆ—çš„çŠ¶æ€å°±ç”± pending å˜ä¸ºäº† rejectedã€‚&lt;br /&gt;
é€šè¿‡æ‰§è¡Œå™¨å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°å‡½æ•°ï¼Œresolveï¼Œreject æˆ‘ä»¬æˆåŠŸçš„è§£å†³äº†å¦‚ä½•æ‹¿åˆ°è¿”å›å€¼ï¼Œå¼‚æ­¥æ“ä½œç»“æŸåæ‹¿åˆ°å¤±è´¥çš„åŸå› çš„é—®é¢˜ã€‚&lt;br /&gt;
é‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥ï¼Œè§£å†³æ€ä¹ˆè¿›ä¸€æ­¥å¤„ç†çš„é—®é¢˜ã€‚è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦çŸ¥é“ Promise å®åˆ—ä¸Šé¢å…¶å®æ˜¯ç”±ä¸€ä¸ª then æ–¹æ³•çš„ï¼Œä¸è¿‡å…¶å®è¿™ä¸ªæ–¹æ³•æ˜¯å®šä¹‰åœ¨ Promise å®åˆ—çš„æ„é€ å‡½æ•°çš„åŸå‹ä¸Šé¢çš„ã€‚è¿™ä¸ª then æ–¹æ³•ä¸€æ ·æœ‰ä¸¤ä¸ªå‚æ•°å‡½æ•°ï¼Œä¸€èˆ¬ç§°ä¸º onResolved, onRejectedã€‚å½“ promise å®åˆ—çš„çŠ¶æ€ä¸º fulfilled çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°ï¼Œå³ onResolvedï¼›å½“ promise å®åˆ—çš„çŠ¶æ€ä¸º rejected çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå‚æ•°å‡½æ•°ï¼Œå³ onRejectedã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸¤ä¸ªå‚æ•°å‡½æ•°ä¸­å†™å…¥å¯¹åº”çš„è¿›ä¸€æ­¥å¤„ç†çš„é€»è¾‘ã€‚&lt;br /&gt;
è‡³æ­¤ï¼Œæˆ‘ä»¬å°±è§£å†³äº†å¦‚ä½•æ‹¿åˆ°è¿”å›å€¼ï¼Œæ‹¿åˆ°å¼‚æ­¥æ“ä½œå¤±è´¥çš„æ—¶å€™å¤±è´¥çš„åŸå› ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç†çš„é—®é¢˜ãƒ½ (âœ¿ ï¾Ÿ â–½ ï¾Ÿ) ãƒ ğŸ˜&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜&#34;&gt;#&lt;/a&gt; è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬éœ€è¦çŸ¥é“ promise å®åˆ—èº«ä¸Šçš„ then æ–¹æ³•æ˜¯ä¼šè¿”å›ä¸€ä¸ª promise å®åˆ—çš„ï¼Œè¿”å›çš„è¿™ä¸ªæ–°çš„å®åˆ—æ˜¯åŸºäº onResolved å‡½æ•° or onRejected å‡½æ•°çš„è¿”å›å€¼æ„å»ºçš„ï¼Œæ˜¯å°†è¿”å›å€¼ä¼ é€’ç»™ Promise.resolve å‡½æ•°æ¥åŒ…è£…ç”Ÿæˆæ–°çš„ promise å®åˆ—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1. å½“è§¦å‘çš„ onResolved or onRejected å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä¼šé»˜è®¤è¿”å› undefined æ¥ä¼ é€’ç»™ Promise.resolve å‡½æ•°æ¥ç”Ÿæˆæ–°çš„æˆåŠŸçš„ promise å®åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;2. å½“æœ‰è¿”å›å€¼çš„æ—¶å€™ä¼šå°†è¿”å›å€¼ä¼ é€’ç»™ Promise.resolve å‡½æ•°æ¥ç”Ÿæˆæ–°çš„æˆåŠŸçš„ promise å®åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;3. å½“è¿”å›å€¼ä¸ºä¸€ä¸ª promise å®åˆ—çš„æ—¶å€™ä¼šå°†è¯¥ promise å®åˆ—ä¼ é€’ Promise.resolve å‡½æ•°æ¥è¿”å›è¯¥ promise å®åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;4. å½“åœ¨è§¦å‘çš„ onResolved or onRejected å‡½æ•°ä¸­æŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯æ—¶ï¼Œä¼šå°†è¯¥é”™è¯¯ä¼ é€’ç»™ promise.resolve æ¥è¿”å›ä¸€ä¸ªæ–°çš„å¤±è´¥çš„ promise å®åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;5. å½“å‹æ ¹æ²¡æœ‰éœ€è¦è§¦å‘çš„ onResolved or onRejected å‡½æ•°æ—¶ï¼Œä¼šå°†è°ƒç”¨ then æ–¹æ³•çš„ Promise å®åˆ—åŸæ ·è¿”å›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±äº then æ–¹æ³•å›ºå®šä¼šè¿”å› promise å®åˆ—ï¼Œè¿™å°±ä¸ºé“¾å¼è°ƒç”¨æä¾›äº†å¯èƒ½ï¼Œè€Œé“¾å¼è°ƒç”¨ä¾¿å¯ç»™åµŒå¥—è§£å¥—ï¼Œé¿å…åµŒå¥—ï¼Œè§£å†³å›è°ƒåœ°ç‹±ã€‚&lt;br /&gt;
è‡³æ­¤ï¼Œä¹Ÿè§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚è¯·çœ‹ä¸‹å›¾ ğŸ˜&lt;br /&gt;
&lt;img data-src=&#34;https://i.328888.xyz/2023/02/12/cwD6H.png&#34; alt=&#34;è§£å†³å›è°ƒåœ°ç‹±&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼ŒPromise è¿˜æœ‰å¾ˆå¤šçš„å®åˆ—æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å°±ä¸ä¸€ä¸€è®²è§£ï¼Œè¯»è€…ä»¬ä¸‹å»äº†å¯ä»¥è‡ªè¡Œäº†è§£ã€‚&lt;/p&gt;
</content>
        <category term="ç¬”è®°" scheme="https://zimu-66ccff.github.io/categories/note/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/categories/note/front-end/" />
        <category term="JavaScript" scheme="https://zimu-66ccff.github.io/categories/note/front-end/javaScript/" />
        <category term="å‰ç«¯" scheme="https://zimu-66ccff.github.io/tags/%E5%89%8D%E7%AB%AF/" />
        <category term="JSé«˜çº§" scheme="https://zimu-66ccff.github.io/tags/JS%E9%AB%98%E7%BA%A7/" />
        <category term="Promise" scheme="https://zimu-66ccff.github.io/tags/Promise/" />
        <updated>2023-02-12T10:23:50.000Z</updated>
    </entry>
    <entry>
        <id>https://zimu-66ccff.github.io/mySelf/</id>
        <title>å…³äºæˆ‘</title>
        <link rel="alternate" href="https://zimu-66ccff.github.io/mySelf/"/>
        <content type="html">&lt;p&gt;ä¸€åªå‰ç«¯å°ç™½&lt;/p&gt;
</content>
        <category term="éšç¬”" scheme="https://zimu-66ccff.github.io/categories/life/" />
        <category term="è‡ªæˆ‘" scheme="https://zimu-66ccff.github.io/tags/%E8%87%AA%E6%88%91/" />
        <updated>2023-02-11T05:49:30.000Z</updated>
    </entry>
</feed>
