<!-- build time:Sat Oct 28 2023 17:48:03 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="木子亭" href="https://zimu-66ccff.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="木子亭" href="https://zimu-66ccff.github.io/atom.xml"><link rel="alternate" type="application/json" title="木子亭" href="https://zimu-66ccff.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="前端,React,ReactHooks"><link rel="canonical" href="https://zimu-66ccff.github.io/reactHooks/"><title>ReactHooks 的原理解析 - React 学习 - React - 前端 - 笔记 | ziMu = 木子亭 = 那年满身灰白，唯此亭溢彩，今日不染尘埃，静坐此亭相伴</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"><a href="/reactHooks" class="link external" itemprop="url">ReactHooks 的原理解析<i class="ic i-link-alt"></i></a></h1><div class="meta"><span class="item" title="创建时间：2023-03-04 12:25:19"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-03-04T12:25:19+08:00">2023-03-04</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>7.4k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">ziMu</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd90d857827.jpg"></li><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd91e897543.jpg"></li><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd91df97138.jpeg"></li><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd90feb6eb1.jpg"></li><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd91bc09643.jpg"></li><li class="item" data-background-image="https://i.imgs.ovh/i/2023/09/10/64fd91e65f5db.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/" itemprop="item" rel="index" title="分类于 笔记"><span itemprop="name">笔记</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/front-end/" itemprop="item" rel="index" title="分类于 前端"><span itemprop="name">前端</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/front-end/react/" itemprop="item" rel="index" title="分类于 React"><span itemprop="name">React</span></a><meta itemprop="position" content="3"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/front-end/react/reactLearn/" itemprop="item" rel="index" title="分类于 React 学习"><span itemprop="name">React 学习</span></a><meta itemprop="position" content="4"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zimu-66ccff.github.io/reactHooks/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/avatar.jpg"><meta itemprop="name" content="ziMu"><meta itemprop="description" content="那年满身灰白，唯此亭溢彩，今日不染尘埃，静坐此亭相伴, 干净澄澈，真诚自然"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="木子亭"></span><div class="body md" itemprop="articleBody"><h1 id="hooks-使用规则"><a class="anchor" href="#hooks-使用规则">#</a> hooks 使用规则</h1><ol><li>hooks 只能在函数组件 or 自定义 hook 的顶部使用</li><li>不能在条件，循环，嵌套函数中使用 hooks</li></ol><h1 id="为什么会有这样的规则hooks-究竟是怎么保存我们函数组件的状态的"><a class="anchor" href="#为什么会有这样的规则hooks-究竟是怎么保存我们函数组件的状态的">#</a> 为什么会有这样的规则，hooks 究竟是怎么保存我们函数组件的状态的？</h1><p><strong>Not Magic, Just Arrays</strong></p><h1 id="基本原理"><a class="anchor" href="#基本原理">#</a> 基本原理</h1><ul><li>函数组件初次执行阶段</li></ul><ol><li>React 会维护一个数组 <code>componentHooks</code> ，和一个索引 <code>componentHookIndex</code></li><li>函数组件中的 <code>useState</code> 被调用时，初始值和修改初始值的方法被存进 <code>pair</code> 数组，然后再将 <code>pair</code> 数组通过索引 <code>componentHookIndex</code> 存进 <code>componentHooks</code> 数组，然后 <code>componentHookIndex++</code> 指向下一个空位。</li><li>随着 <code>useState</code> 的顺序调用，一个个保存着初始值和修改初始值方法的 <code>pair</code> 被存进 <code>componentHookIndex</code> 。</li></ol><ul><li>函数组件的更新阶段</li></ul><ol><li>随着修改初始值的方法被调用，函数组件会被重新执行，并且 <code>componentHookIndex</code> 会被重置为 <code>0</code> , 然后因为我们是按照规则使用的 hooks，所以 hooks 的调用是按照固定的顺序的（<strong>这个固定的顺序，就是为什么要遵守 hooks 的使用规则</strong>）， <code>useState</code> 就可以通过 <code>componentHooks</code> 和 <code>componentsHooksIndex</code> 把我们保存的 <code>pair</code> 返回给我们，然后 <code>componentHookIndex++</code> 指向下一个保存的 <code>pair</code> 。以此来完成之前保存的状态和修改状态的方法的返回。</li></ol><h1 id="代码实现此代码实现来自官方文档"><a class="anchor" href="#代码实现此代码实现来自官方文档">#</a> 代码实现（此代码实现来自官方文档）</h1><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> componentHooks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> currentHookIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// How useState works inside React (simplified).</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">function</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token parameter">initialState</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">let</span> pair <span class="token operator">=</span> componentHooks<span class="token punctuation">[</span>currentHookIndex<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>pair<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token comment">// This is not the first render,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// so the state pair already exists.</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// Return it and prepare for next Hook call.</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    currentHookIndex<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">return</span> pair<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token comment">// This is the first time we're rendering,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">// so create a state pair and store it.</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  pair <span class="token operator">=</span> <span class="token punctuation">[</span>initialState<span class="token punctuation">,</span> setState<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token keyword">function</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">nextState</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">// When the user requests a state change,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token comment">// put the new value into the pair.</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nextState<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token function">updateDOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token comment">// Store the pair for future renders</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token comment">// and prepare for the next Hook call.</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  componentHooks<span class="token punctuation">[</span>currentHookIndex<span class="token punctuation">]</span> <span class="token operator">=</span> pair<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  currentHookIndex<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token keyword">return</span> pair<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">function</span> <span class="token function">Gallery</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token comment">// Each useState() call will get the next pair.</span></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">const</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> setIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>  <span class="token keyword">const</span> <span class="token punctuation">[</span>showMore<span class="token punctuation">,</span> setShowMore<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token keyword">function</span> <span class="token function">handleNextClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token function">setIndex</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>  <span class="token keyword">function</span> <span class="token function">handleMoreClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token function">setShowMore</span><span class="token punctuation">(</span><span class="token operator">!</span>showMore<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>  <span class="token keyword">let</span> sculpture <span class="token operator">=</span> sculptureList<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>  <span class="token comment">// This example doesn't use React, so</span></pre></td></tr><tr><td data-num="48"></td><td><pre>  <span class="token comment">// return an output object instead of JSX.</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token literal-property property">onNextClick</span><span class="token operator">:</span> handleNextClick<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token literal-property property">onMoreClick</span><span class="token operator">:</span> handleMoreClick<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>sculpture<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>sculpture<span class="token punctuation">.</span>artist<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> of </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>sculptureList<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token literal-property property">more</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>showMore <span class="token operator">?</span> <span class="token string">'Hide'</span> <span class="token operator">:</span> <span class="token string">'Show'</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> details</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="55"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span> showMore <span class="token operator">?</span> sculpture<span class="token punctuation">.</span>description <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token literal-property property">imageSrc</span><span class="token operator">:</span> sculpture<span class="token punctuation">.</span>url<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token literal-property property">imageAlt</span><span class="token operator">:</span> sculpture<span class="token punctuation">.</span>alt<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token keyword">function</span> <span class="token function">updateDOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>  <span class="token comment">// Reset the current Hook index</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  <span class="token comment">// before rendering the component.</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  currentHookIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token function">Gallery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre>  <span class="token comment">// Update the DOM to match the output.</span></pre></td></tr><tr><td data-num="68"></td><td><pre>  <span class="token comment">// This is the part React does for you.</span></pre></td></tr><tr><td data-num="69"></td><td><pre>  nextButton<span class="token punctuation">.</span>onclick <span class="token operator">=</span> output<span class="token punctuation">.</span>onNextClick<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre>  header<span class="token punctuation">.</span>textContent <span class="token operator">=</span> output<span class="token punctuation">.</span>header<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>  moreButton<span class="token punctuation">.</span>onclick <span class="token operator">=</span> output<span class="token punctuation">.</span>onMoreClick<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>  moreButton<span class="token punctuation">.</span>textContent <span class="token operator">=</span> output<span class="token punctuation">.</span>more<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>  image<span class="token punctuation">.</span>src <span class="token operator">=</span> output<span class="token punctuation">.</span>imageSrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>  image<span class="token punctuation">.</span>alt <span class="token operator">=</span> output<span class="token punctuation">.</span>imageAlt<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>output<span class="token punctuation">.</span>description <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>    description<span class="token punctuation">.</span>textContent <span class="token operator">=</span> output<span class="token punctuation">.</span>description<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>    description<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="79"></td><td><pre>    description<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="82"></td><td><pre></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token keyword">let</span> nextButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'nextButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre><span class="token keyword">let</span> header <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="85"></td><td><pre><span class="token keyword">let</span> moreButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'moreButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre><span class="token keyword">let</span> description <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'description'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre><span class="token keyword">let</span> image <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre><span class="token keyword">let</span> sculptureList <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="89"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Homenaje a la Neurocirugía'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="91"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Marta Colvin Andrade'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="92"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="93"></td><td><pre>      <span class="token string">'Although Colvin is predominantly known for abstract themes that allude to pre-Hispanic symbols, this gigantic sculpture, an homage to neurosurgery, is one of her most recognizable public art pieces.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="94"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/Mx7dA2Y.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="95"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A bronze statue of two crossed hands delicately holding a human brain in their fingertips.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="96"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="97"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Floralis Genérica'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="99"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Eduardo Catalano'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="100"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="101"></td><td><pre>      <span class="token string">'This enormous (75 ft. or 23m) silver flower is located in Buenos Aires. It is designed to move, closing its petals in the evening or when strong winds blow and opening them in the morning.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="102"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/ZF6s192m.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="103"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A gigantic metallic flower sculpture with reflective mirror-like petals and strong stamens.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="104"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="105"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="106"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Eternal Presence'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="107"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'John Woodrow Wilson'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="108"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="109"></td><td><pre>      <span class="token string">'Wilson was known for his preoccupation with equality, social justice, as well as the essential and spiritual qualities of humankind. This massive (7ft. or 2,13m) bronze represents what he described as "a symbolic Black presence infused with a sense of universal humanity."'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="110"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/aTtVpES.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="111"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'The sculpture depicting a human head seems ever-present and solemn. It radiates calm and serenity.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="112"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="113"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="114"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Moai'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="115"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Unknown Artist'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="116"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="117"></td><td><pre>      <span class="token string">'Located on the Easter Island, there are 1,000 moai, or extant monumental statues, created by the early Rapa Nui people, which some believe represented deified ancestors.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="118"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/RCwLEoQm.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="119"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'Three monumental stone busts with the heads that are disproportionately large with somber faces.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="120"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="121"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="122"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Blue Nana'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="123"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Niki de Saint Phalle'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="124"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="125"></td><td><pre>      <span class="token string">'The Nanas are triumphant creatures, symbols of femininity and maternity. Initially, Saint Phalle used fabric and found objects for the Nanas, and later on introduced polyester to achieve a more vibrant effect.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="126"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/Sd1AgUOm.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="127"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A large mosaic sculpture of a whimsical dancing female figure in a colorful costume emanating joy.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="128"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="129"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="130"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Ultimate Form'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="131"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Barbara Hepworth'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="132"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="133"></td><td><pre>      <span class="token string">'This abstract bronze sculpture is a part of The Family of Man series located at Yorkshire Sculpture Park. Hepworth chose not to create literal representations of the world but developed abstract forms inspired by people and landscapes.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="134"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/2heNQDcm.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="135"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A tall sculpture made of three elements stacked on each other reminding of a human figure.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="136"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="137"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="138"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Cavaliere'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="139"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Lamidi Olonade Fakeye'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="140"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="141"></td><td><pre>      <span class="token string">"Descended from four generations of woodcarvers, Fakeye's work blended traditional and contemporary Yoruba themes."</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="142"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/wIdGuZwm.png'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="143"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'An intricate wood sculpture of a warrior with a focused face on a horse adorned with patterns.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="144"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="145"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="146"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Big Bellies'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="147"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Alina Szapocznikow'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="148"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="149"></td><td><pre>      <span class="token string">'Szapocznikow is known for her sculptures of the fragmented body as a metaphor for the fragility and impermanence of youth and beauty. This sculpture depicts two very realistic large bellies stacked on top of each other, each around five feet (1,5m) tall.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="150"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/AlHTAdDm.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="151"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'The sculpture reminds a cascade of folds, quite different from bellies in classical sculptures.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="152"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="153"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="154"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Terracotta Army'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="155"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Unknown Artist'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="156"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="157"></td><td><pre>      <span class="token string">'The Terracotta Army is a collection of terracotta sculptures depicting the armies of Qin Shi Huang, the first Emperor of China. The army consisted of more than 8,000 soldiers, 130 chariots with 520 horses, and 150 cavalry horses.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="158"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/HMFmH6m.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="159"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'12 terracotta sculptures of solemn warriors, each with a unique facial expression and armor.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="160"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="161"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="162"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Lunar Landscape'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="163"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Louise Nevelson'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="164"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="165"></td><td><pre>      <span class="token string">'Nevelson was known for scavenging objects from New York City debris, which she would later assemble into monumental constructions. In this one, she used disparate parts like a bedpost, juggling pin, and seat fragment, nailing and gluing them into boxes that reflect the influence of Cubism’s geometric abstraction of space and form.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="166"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/rN7hY6om.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="167"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A black matte sculpture where the individual elements are initially indistinguishable.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="168"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="169"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="170"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Aureole'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="171"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Ranjani Shettar'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="172"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="173"></td><td><pre>      <span class="token string">'Shettar merges the traditional and the modern, the natural and the industrial. Her art focuses on the relationship between man and nature. Her work was described as compelling both abstractly and figuratively, gravity defying, and a "fine synthesis of unlikely materials."'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="174"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/okTpbHhm.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="175"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A pale wire-like sculpture mounted on concrete wall and descending on the floor. It appears light.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="176"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="177"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="178"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Hippos'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="179"></td><td><pre>    <span class="token literal-property property">artist</span><span class="token operator">:</span> <span class="token string">'Taipei Zoo'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="180"></td><td><pre>    <span class="token literal-property property">description</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="181"></td><td><pre>      <span class="token string">'The Taipei Zoo commissioned a Hippo Square featuring submerged hippos at play.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="182"></td><td><pre>    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://i.imgur.com/6o5Vuyu.jpg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="183"></td><td><pre>    <span class="token literal-property property">alt</span><span class="token operator">:</span> <span class="token string">'A group of bronze hippo sculptures emerging from the sett sidewalk as if they were swimming.'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="184"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="185"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="186"></td><td><pre></pre></td></tr><tr><td data-num="187"></td><td><pre><span class="token comment">// Make UI match the initial state.</span></pre></td></tr><tr><td data-num="188"></td><td><pre><span class="token function">updateDOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="官方文档关于这部分的讲解"><a class="anchor" href="#官方文档关于这部分的讲解">#</a> 官方文档关于这部分的讲解</h1><p><img data-src="https://i.328888.xyz/2023/03/04/G4KFq.png" alt=""></p><p><span class="exturl" data-url="aHR0cHM6Ly9iZXRhLnJlYWN0anMub3JnL2xlYXJuL3N0YXRlLWEtY29tcG9uZW50cy1tZW1vcnkjZ2l2aW5nLWEtY29tcG9uZW50LW11bHRpcGxlLXN0YXRlLXZhcmlhYmxlcw==">官方文档这部分解释的链接</span></p><div class="tags"><a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 前端</a> <a href="/tags/React/" rel="tag"><i class="ic i-tag"></i> React</a> <a href="/tags/ReactHooks/" rel="tag"><i class="ic i-tag"></i> ReactHooks</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-03-04 13:13:40" itemprop="dateModified" datetime="2023-03-04T13:13:40+08:00">2023-03-04</time> </span><span id="reactHooks/" class="item leancloud_visitors" data-flag-title="ReactHooks 的原理解析" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/img/wechatpay.png" alt="ziMu 微信支付"><p>微信支付</p></div><div><img data-src="/img/alipay.png" alt="ziMu 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>作者： </strong>ziMu <i class="ic i-at"><em>@</em></i>木子亭</li><li class="link"><strong>本文链接：</strong> <a href="https://zimu-66ccff.github.io/reactHooks/" title="ReactHooks 的原理解析">https://zimu-66ccff.github.io/reactHooks/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/differenceWithVue/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;i.imgs.ovh&#x2F;i&#x2F;2023&#x2F;09&#x2F;10&#x2F;64fd90d857827.jpg" title="React 和 Vue的区别"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> React 学习</span><h3>React 和 Vue的区别</h3></a></div><div class="item right"><a href="/frontEndModularity/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;i.imgs.ovh&#x2F;i&#x2F;2023&#x2F;09&#x2F;10&#x2F;64fd91d6c283e.jpg" title="前端模块化分析与对比"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 前端工程化</span><h3>前端模块化分析与对比</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#hooks-%E4%BD%BF%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-number">1.</span> <span class="toc-text">hooks 使用规则</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E8%A7%84%E5%88%99hooks-%E7%A9%B6%E7%AB%9F%E6%98%AF%E6%80%8E%E4%B9%88%E4%BF%9D%E5%AD%98%E6%88%91%E4%BB%AC%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81%E7%9A%84"><span class="toc-number">2.</span> <span class="toc-text">为什么会有这样的规则，hooks 究竟是怎么保存我们函数组件的状态的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">基本原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%AD%A4%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9D%A5%E8%87%AA%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="toc-number">4.</span> <span class="toc-text">代码实现（此代码实现来自官方文档）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E5%85%B3%E4%BA%8E%E8%BF%99%E9%83%A8%E5%88%86%E7%9A%84%E8%AE%B2%E8%A7%A3"><span class="toc-number">5.</span> <span class="toc-text">官方文档关于这部分的讲解</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/differenceWithVue/" rel="bookmark" title="React 和 Vue的区别">React 和 Vue的区别</a></li><li class="active"><a href="/reactHooks/" rel="bookmark" title="ReactHooks的原理解析">ReactHooks的原理解析</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="ziMu" data-src="/img/avatar.jpg"><p class="name" itemprop="name">ziMu</p><div class="description" itemprop="description">干净澄澈，真诚自然</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">35</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">15</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">51</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3ppTXUtNjZjY2Zm" title="https:&#x2F;&#x2F;github.com&#x2F;ziMu-66ccff"><i class="ic i-github"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTU3NTA1OTUwOQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;575059509"><i class="ic i-cloud-music"></i></span> <a href="/3553189793@qq.com" title="3553189793@qq.com" class="item email"><i class="ic i-envelope"></i></a></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/musics/" rel="section"><i class="ic i-music"></i>歌单</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/differenceWithVue/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/frontEndModularity/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/life/" title="分类于 随笔">随笔</a></div><span><a href="/firstInternship" title="埋种一年半，终破土而出">埋种一年半，终破土而出<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/project/" title="分类于 项目">项目</a></div><span><a href="/download" title="前端实现文件下载的几种方式">前端实现文件下载的几种方式<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/javaScript/" title="分类于 JavaScript">JavaScript</a></div><span><a href="/executionContext" title="JS执行上下文">JS执行上下文<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/life/" title="分类于 随笔">随笔</a></div><span><a href="/mySelf" title="关于我">关于我<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/performanceOptimization/" title="分类于 性能优化">性能优化</a></div><span><a href="/realizeCDN" title="理解CDN">理解CDN<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/engineering/" title="分类于 前端工程化">前端工程化</a></div><span><a href="/packageJsonLearn" title="package.json文件详解">package.json文件详解<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/javaScript/" title="分类于 JavaScript">JavaScript</a></div><span><a href="/eventLoop" title="理解事件循环">理解事件循环<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/javaScript/" title="分类于 JavaScript">JavaScript</a></div><span><a href="/promiseWrite" title="手写Promise及其相关方法">手写Promise及其相关方法<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/vue/" title="分类于 Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/vue/vueCore/" title="分类于 Vue 原理实现">Vue 原理实现</a></div><span><a href="/reactivity-computed" title="Vue响应式模块-reactivity-computed">Vue响应式模块-reactivity-computed<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/" title="分类于 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/note/front-end/javaScript/" title="分类于 JavaScript">JavaScript</a></div><span><a href="/promiseLearn" title="理解为什么需要Promise">理解为什么需要Promise<i class="ic i-link-alt"></i></a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2020 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">ziMu @ ziMu</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">96k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">1:28</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"reactHooks/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->